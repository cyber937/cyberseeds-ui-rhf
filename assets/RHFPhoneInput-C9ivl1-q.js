import{r as j,j as y}from"./iframe-BKjVDh1G.js";import{x as D,i as $,f as K,e as S,C as F,a as N}from"./FieldError-Bw_Bl3iU.js";const R=l=>{if(l===void 0)return"";const e=l.replace(/\D/g,"");return e.length===0?"":e.length<=2?`(${e}`:e.length<=5?`(${e.slice(0,3)}) ${e.slice(3)}`:`(${e.slice(0,3)}) ${e.slice(3,6)}-${e.slice(6,10)}`};function O({label:l,scale:e="md",color:v="blue",require:h=!1,isInvalid:f=!1,value:g,onChange:a,id:b,...T}){const x=j.useId(),p=b??x,n=j.useRef(null),{color:k}=D()??{color:void 0},C=k??v,I={sm:"cs:px-2 cs:py-1 cs:text-xs",md:"cs:px-3 cs:py-1.5 cs:text-sm/6"},V=u=>{const m=u.currentTarget,s=m.value,r=m.selectionStart||0,t=s.replace(/\D/g,"").slice(0,10),c=R(t);let o=0;for(let d=0;d<r;d++)/\d/.test(s[d])&&o++;let i=0,q=0;for(;i<c.length&&q<o;)/\d/.test(c[i])&&q++,i++;for(;i<c.length&&/[)\s-]/.test(c[i]);)i++;a==null||a(t),setTimeout(()=>{var d;(d=n.current)==null||d.setSelectionRange(i,i)},0)},w=u=>{if(u.key==="Backspace"){const m=u.currentTarget,s=m.selectionStart??0,r=m.value;if(s>0&&[")","-"].includes(r[s-1])){u.preventDefault();const t=s-1,c=(r.slice(0,t-1)+r.slice(s)).replace(/\D/g,"");a==null||a(c.slice(0,10)),setTimeout(()=>{var o;(o=n.current)==null||o.setSelectionRange(t-1,t-1)},0)}if(s>0&&r[s-1]===" "&&r[s-2]===")"){u.preventDefault();const t=s-2,c=(r.slice(0,t-1)+r.slice(s)).replace(/\D/g,"");a==null||a(c.slice(0,10)),setTimeout(()=>{var o;(o=n.current)==null||o.setSelectionRange(t-1,t-1)},0)}}};return $.jsxs("div",{children:[l&&$.jsx(K,{htmlFor:p,text:l,scale:e,className:"cs:ml-2",require:h}),$.jsx("input",{ref:n,id:p,type:"tel","aria-invalid":f||void 0,value:g?R(String(g)):"",onChange:V,onKeyDown:w,placeholder:"(123) 456-7890",maxLength:16,className:`cs:block cs:w-full cs:rounded-md cs:disabled:bg-amber-100 cs:disabled:text-gray-400 cs:font-sans cs:outline-1 placeholder:cs:text-gray-400 cs:dark:bg-gray-800 cs:text-gray-900 cs:dark:text-gray-200 cs:-outline-offset-1 cs:outline-gray-300 cs:placeholder:text-gray-400 cs:focus:outline-2 cs:focus:-outline-offset-2 cs:dark:disabled:text-gray-800 cs:transition-colors cs:duration-200 cs:ease-in-out ${f?"cs:text-red-400 cs:bg-red-100/50 cs:outline-red-300 cs:dark:bg-red-200 cs:dark:text-red-500":"cs:text-gray-900 cs:bg-white cs:dark:bg-gray-800 cs:outline-gray-300"} ${I[e]} ${S[C]}`,...T})]})}function P({name:l,control:e,label:v="",scale:h="md",color:f="blue",require:g=!1,defaultValue:a,rules:b,...T}){const x=`${l}-error`;return y.jsx(F,{name:l,control:e,rules:b,defaultValue:a??"",render:({field:p,fieldState:n})=>y.jsxs("div",{className:"space-y-1",children:[y.jsx(O,{label:v,scale:h,color:f,value:p.value,onChange:p.onChange,require:g,isInvalid:n.error!==void 0,"aria-describedby":n.error?x:void 0,...T}),y.jsx(N,{error:n.error,id:x})]})})}P.__docgenInfo={description:"",methods:[],displayName:"RHFPhoneInput",props:{name:{required:!0,tsType:{name:"K"},description:""},control:{required:!0,tsType:{name:"Control",elements:[{name:"T"}],raw:"Control<T>"},description:""},label:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},scale:{required:!1,tsType:{name:"Scale"},description:"",defaultValue:{value:'"md"',computed:!1}},color:{required:!1,tsType:{name:"Color"},description:"",defaultValue:{value:'"blue"',computed:!1}},require:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},defaultValue:{required:!1,tsType:{name:"PathValue",elements:[{name:"T"},{name:"K"}],raw:"PathValue<T, K>"},description:""},rules:{required:!1,tsType:{name:"RegisterOptions",elements:[{name:"T"},{name:"K"}],raw:"RegisterOptions<T, K>"},description:""}},composes:["Omit"]};export{P as R};
